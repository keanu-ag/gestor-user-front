<div class="form-container mat-elevation-z5">
    <h1>Registrar nuevo usuario</h1>
    <form #registerform="ngForm" (ngSubmit)="registerUser()">

    <mat-form-field class="margin-top">
        <input matInput type="text" class="form-control" placeholder="Nombre:" name="nombre" [(ngModel)]="user.nombre"
                #nombre="ngModel" [class.is-invalid]="nombre.invalid && nombre.touched" required>
        <mat-error class="text-danger" [class.d-none]="nombre.valid || nombre.untouched">Debes ingresar tu nombre</mat-error>
    </mat-form-field>

    <mat-form-field class="margin-top">
        <mat-label>Apellido Paterno:</mat-label>
        <input matInput type="text" class="form-control" placeholder="Ingresa tu apellido paterno" name="apellido_paterno" 
                [(ngModel)]="user.apellido_paterno" #apellido_paterno="ngModel">
    </mat-form-field>

    <mat-form-field class="margin-top">
        <mat-label>Apellido Materno:</mat-label>
        <input matInput type="text" class="form-control" placeholder="Ingresa tu apellido materno" name="apellido_materno" 
                [(ngModel)]="user.apellido_materno" #apellido_materno="ngModel">
    </mat-form-field>

    <mat-form-field class="margin-top">
        <mat-label>Correo electrónico:</mat-label>
        <input matInput type="email" class="form-control" name="email" placeholder="Ingresa tu correo" [(ngModel)]="user.email"  pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                #email="ngModel" [class.is-invalid]="email.invalid && email.touched">

        <mat-error *ngIf="email.errors">
            <small class="text-danger" *ngIf="email.errors.pattern">Ingresa un correo válido</small>
        </mat-error>
    </mat-form-field>

    <mat-form-field class="margin-top">
        <input matInput type="password" class="form-control" placeholder="Contraseña:" name="password" [(ngModel)]="user.password"
                #pwd="ngModel" [class.is-invalid]="pwd.invalid && pwd.touched" required>
        <mat-error class="text-danger" [class.d-none]="pwd.valid || pwd.untouched">Necesitas escribir una contraseña</mat-error>
    </mat-form-field>

    <mat-form-field class="margin-top">
        <input matInput type="password" class="form-control" placeholder="Confirma tu contraseña:" name="cpassword" (ngModel)="user.password"
                #cpassword="ngModel" [class.is-invalid]="cpassword.invalid && cpassword.touched" required>
        <small class="text-danger" [class.d-none]="(cpassword.value == pwd.value) || cpassword.untouched">Las contraseñas no coinciden</small>
    </mat-form-field>

    <div class="center margin-top">
        <button mat-raised-button [disabled]="registerform.form.invalid" type="submit" class="btn btn-info">Ingresar</button>
    </div>
    
    </form>
    <small class="center margin-top">¿Ya tienes cuenta? <a class="sign-up-link" [routerLink]="['/login']">Ingresar</a></small>
</div>
